Casper：投注共识

这是一种以太坊下一代的共识机制，属于PoS。Casper的共识是按块达成的而不是像PoS那样按链达成的。

为了防止验证人在不同的世界中提供不同的投注，我们还有一个简单严格的条款：如果你有两次投注序号一样，或者说你提交了一个无法让Casper合约处理的投注，
你将失去所有保证金。从这一点我们可以看出，Casper与传统的PoS不同的是Casper有惩罚机制，这样非法节点通过恶意攻击网络不仅得不到交易费，
而且还面临着保证金被没收的风险。

Casper协议下的验证人需要完成出块和投注两个活动。具体如下：

出块是一个独立于其它所有事件而发生的过程：
验证人收集交易，当轮到他们的出块时间时，他们就制造一个区块，签名，然后发送到网络上。投注的过程更为复杂一些。
目前Casper默认的验证人策略被设计为模仿传统的拜占庭容错共识：观察其他的验证人如何投注，取33%处的值，向0或者1进一步移动。

而客户端的确认当前状态的过程如下所示：
一开始先下载所有的区块和投注，然后用上面的算法来形成自己的意见，但是不公布意见。它只要简单的按顺序在每个高度进行观察，
如果一个块的概率高于0.5就处理它，否则就跳过它。在处理所有的区块之后得到的状态就可以显示为区块链的“当前状态”。
客户端还可以给出对于“最终确定”的主观看法：当高度k之前的每个块，意见要么高于99.999%或者低于0.001%，那么客户端就可以认为前k个块已经最终确定。

有关Casper的资料：
理解 Serenity - 第二部分: Casper：这篇文章是翻译自以太坊的博客，里面详细描述了casper的工作原理是什么。
同时由于这个是以太坊官方描述，因此，如果想要深入了解Casper，那么这篇文章是必读的。
以太坊紫皮书（中文版）：紫皮书发布于2016年在上海举办的以太坊第二届开发者大会。里面详细介绍了以太坊下一代PoS共识机制的相关设想。
也可以看紫皮书英文版：Ethereum 2.0 Mauve Paper。